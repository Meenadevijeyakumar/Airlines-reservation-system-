# Airlines-reservation-system-
.form:hover {background-color: rgba(0, 0, 0, 0.5);}form {color: white;}</style><link rel="stylesheet" href="style.css"></head><body><header><img class="above-navbar" src="\static\back.png" alt="Image Above Navbar"style="width: 100vw;height: 150px;"><nav class="navbar navbar-expand-lg navbar-light bg-warning" style="padding-top:2px;"><a class="navbar-brand" href="#">Navbar</a><button class="navbar-toggler" type="button" data-toggle="collapse" datatarget="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria- expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"><a class="nav-item nav-link active" href="#book">Book a Flight<span class="sr- only">(current)</span></a><a class="nav-item nav-link" href="#aboutus">About Us</a><a class="nav-item nav-link" href="#fleet">Fleet Details</a><a class="nav-item nav-link" href="#safety-connectivity">Connectivity</a></div></div></nav>56</header><section id="book" class="cont" style="background-image:url(https://wallpapers.com/images/featured/plane-background-etxz0fp95slobqec.webp);background-repeat: no-repeat; background-size: cover; background-position: center;padding:50px;"><div class="container"><form method="post" action="/" onsubmit="return validateForm()" class="form"style="padding: 20px;border-radius: 50px; border: 2px solid rgba(255, 255, 255, 0.5);transition: background-color 0.3s;"><header style="text-align: center; font-size: larger; border-bottom: 2px solid white;background-image: linear-gradient(to left, white, blue); margin-bottom: 20px;"><b>BOOK A FLIGHT</b></header><div class="form-group" style="align-items: center;justify-content: center;text- align: center;"><input type="radio" value="trip" id="trip" name="trips" onclick="toggleInput('trip')"><label for="trip">One-Way</label><input type="radio" value="trips" name="trips" id="trips" onclick="toggleInput('trips')"><label for="trips">Two-Way</label><input type="radio" name="tripss" id="multistop" value="multistop" onclick="toggleTripOption('multistop')"><label for="multistop">Multistop</label><input type="radio" name="tripss" id="nonstop" value="nonstop" onclick="toggleTripOption('nonstop')"><label for="nonstop">Nonstop</label></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="Dep">Departure City:</label><input type="text" class="form-control" name="Dep" id="Dep"></div>57<div class="form-group"><label for="stops">Stops:</label><button type="button" class="btn btn-primary" id="stops" onclick="addStop()">Add Stop</button><div id="stops-container"></div></div><div class="form-group"><label for="Arr">Arrival City:</label><input type="text" class="form-control" name="Arr" id="Arr"></div></div><div class="col-md-6"><div class="form-group"><label for="Depdate">Departure Date:</label><input type="date" class="form-control" id="Depdate"></div><div class="form-group"><label for="Arrdat">Return Date:</label><input type="date" class="form-control" id="Arrdat"></div><div class="form-group"><label for="Passe">Passengers:</label><input type="number" name="Passe" class="form-control" id="Passe"></div><div class="form-group"><label for="class">Choose your Class:</label><select name="Class" class="form-control" id="class"><option name="Economy" value="Economy">Economy Class</option><option name="Business" value="Business">Business Class</option>58<option name="First" value="First">First Class</option></select></div></div></div><div class="form-group text-center"><button type="submit" class="btn btn-primary">Search Flight</button><button type="reset" class="btn btn-secondary">Clear</button></div><center><p style="color: red;">{{failmsg|safe}}</p></center><!-- Error message display --><div id="error-message" style="display: none; color: red; text-align:center;"></div></form><form action="\Modif" class="form"><button class="btn btn-primary" type="submit">Modify</button></form></div></section><!-- Bootstrap JS and jQuery --><script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script><scriptsrc="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script><scriptsrc="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script><script>function toggleInput(option){var Arr = document.getElementById("Arrdat");if(option == 'trip'){59Arr.disabled = true;}if(option == 'trips'){Arr.disabled = false;}}function toggleTripOption(option) {var Arr = document.getElementById("stops");if (option == 'nonstop') {Arr.disabled = true; // Disable Arrival Date input for one-way trips}if(option == 'multistop') {Arr.disabled = false; // Enable Arrival Date input for two-way and multistop trips}}let stopCounter = 0; // Counter to track added boxesfunction addStop() {if (stopCounter >= 2) {alert("You can only add up to two stops.");return; // Stop adding more boxes}var stopsContainer = document.getElementById("stops-container");var stopInput = document.createElement("input");stopInput.type = "text";stopInput.name = "stop";stopInput.placeholder = "Stop";stopsContainer.appendChild(stopInput);stopCounter++; // Increment the counter after adding a box}60function validateForm() {var passs = document.getElementById("Passe").value;var depd = document.getElementById("Depdate").value;var arrd = document.getElementById("Arrdat").value;var tripType = document.querySelector('input[name="trips"]:checked');// Get current datevar currentDate = new Date().toISOString().split('T')[0];// Check if any field is emptyif (passs === "" || depd === "" || !tripType) {document.getElementById("error-message").innerText = "Please fill all necessary fieldsand select trip type";document.getElementById("error-message").style.display = "block";return false; // Prevent form submission} else if (tripType.value === "trips" && arrd === "") {document.getElementById("error-message").innerText = "Please fill return date";document.getElementById("error-message").style.display = "block";return false; // Prevent form submission} else if (tripType.value === "trips" && arrd <= depd) {document.getElementById("error-message").innerText = "Return date must be later thandeparture date";document.getElementById("error-message").style.display = "block";return false; // Prevent form submission} else if (depd < currentDate || (tripType.value === "trips" && arrd < currentDate)) {document.getElementById("error-message").innerText = "Please select a future date";document.getElementById("error-message").style.display = "block";return false; // Prevent form submission} else {document.getElementById("error-message").style.display = "none";61// If all fields are filled and return date is later than departure date, return true to allowform submissionreturn true;}}function reloadpage(){location.reload();}window.addEventListener('pageshow',function(event){if(event.persisted){reloadpage();}});</script></body></html>Detail.html:<h1 class="card-title">Flight Details</h1></div><p><strong><input type="hidden" name="hid" value="{{s|safe}}">{{s}}</strong></p><div class="card-body">{% for values in processed_rows%}<p><strong>Flight Number:</strong>{{values[3]|safe}} </p><p><strong>Origin:</strong>{{values[0]|safe}}</p><p><strong>Destination:</strong>{{values[1]|safe}} </p><p><strong>Number of Passengers:</strong>{{values[7]|safe}} </p>62<p><strong>Price:</strong>{{values[2]|safe}} </p><form action="/Billbef" method="post"><button type="submit">Book</button></form>{% endfor %}Fill.html:<div class="container payment-container"><h2 class="text-center mb-4">Payment Details</h2><form class="payment-form" action="\download1" method="POST" onsubmit="returnvalidatePaymentForm()"><input type="text" name="Nam" id="Name" value="{{Nam|safe}}" hidden><input type="text" name="Dep" id="Depc" value="{{Dep|safe}}" hidden><input type="text" name="Arr" id="Arrc" value="{{Arr|safe}}" hidden><input type="text" name="Fli" id="Flid" value="{{I|safe}}" hidden><input type="text" name="pric" id="pric" value="{{pric|safe}}" hidden><div class="form-group"><label for="card_number">Card Number</label><input type="text" class="form-control" name="Carno" id="card_number" placeholder="Enter Card Number"></div><div class="form-group"><label for="expiry_date">Expiry Date</label><input type="text" class="form-control" name="Exp" id="expiry_date" placeholder="MM/YY"></div><div class="form-group"><label for="cvv">CVV</label><input type="number" class="form-control" id="cvv" name="Cvv" placeholder="EnterCVV"></div>63<div class="form-group"><label for="name">Cardholder's Name</label><input type="text" class="form-control" name="name" id="name" placeholder="EnterName"></div><div class="form-group"><label for="amount">Amount</label><input type="number" class="form-control" name="Amount" id="amount" placeholder="Enter Amount"></div><div class="form-group"><label for="currency">Currency</label><select class="form-control" id="currency"><option value="USD">USD</option><option value="EUR">EUR</option><option value="GBP">GBP</option><!-- Add more options as needed --></select></div><error id="error-msg" style="color: red;"></error><button type="submit" class="btn btn-primary">Pay Now</button></form>Ticket.html:<form action="/Pay" method="post"><div class="ticket-container"><div class="ticket-details"><h1 class="text-center mb-4">Meena Air Flight Ticket</h1><!-- Ticket details --><div class="row">64<div class="col-md-6"><input type="text" name="Nam" id="Nam" value="{{Name|safe}}" readonly hidden><input type="text" name="Dep" id="Dep" value="{{Depc|safe}}" readonly hidden><input type="text" name="Arr" id="Arr" value="{{Arrc|safe}}" readonly hidden ><input type="text" name="Fli" id="Fli" value="{{ID|safe}}" readonly hidden><input type="text" name="pri" id="pri" value="{{pri|safe}}" readonly hidden>{%for i in processed_row%}<p><strong>Name:</strong>{{i[0]|safe}}</p><p><strong>Date of Birth:</strong>{{i[3]|safe}} </p><p><strong>Mobile Number:</strong>{{i[2]|safe}} </p><p><strong>Email ID:</strong>{{i[1]|safe}} </p><p><strong>Departure City::</strong>{{i[9]|safe}} </p><p><strong>Arrival City::</strong>{{i[10]|safe}} </p><p><strong>Departure Date:</strong>{{i[8]|safe}} </p><p><strong>Flight ID:</strong>{{i[11]|safe}} </p></div></div><div class="row mt-4"><div class="col-md-6"><p><strong>Class:</strong>{{i[12]|safe}}</p></div><div class="col-md-6"><p><strong>Ticket Price:</strong>{{i[6]|safe}}</p></div></div></div>{%endfor%}<input type="submit" value="PAY" class="btn btn-primary"></form>65Download.html:<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Flight Ticket</title><!-- Bootstrap CSS --><link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"rel="stylesheet"><style>@media print {.btn {display: none;}}.ticket-container {max-width: 600px;margin: 50px auto;padding: 20px;background-color: #f8f9fa;border: 1px solid #ccc;border-radius: 10px;box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);}.ticket-details {background-color: #fff;padding: 20px;}66.btn-download {padding: 10px 20px;background-color: #007bff;color: #fff;border: none;cursor: pointer;border-radius: 5px;}</style></head><body><form action="/Pay"><div class="ticket-container"><div class="ticket-details"><h1 class="text-center mb-4">Meena Air Flight Ticket</h1><!-- Ticket details --><div class="row"><div class="col-md-6">{%for i in processed_row%}<p><strong>Name:</strong>{{i[0]|safe}}</p><p><strong>Date of Birth:</strong>{{i[3]|safe}} </p><p><strong>Mobile Number:</strong>{{i[2]|safe}} </p><p><strong>Email ID:</strong>{{i[1]|safe}} </p><p><strong>Departure City::</strong>{{i[9]|safe}} </p><p><strong>Arrival City::</strong>{{i[10]|safe}} </p><p><strong>Departure Date:</strong>{{i[8]|safe}} </p><p><strong>Flight ID:</strong>{{i[11]|safe}} </p></div></div>67<div class="row mt-4"><div class="col-md-6"><p><strong>Class:</strong>{{i[12]|safe}}</p></div><div class="col-md-6"><p><strong>Ticket Price:</strong>{{i[6]|safe}}</p></div></div></div>{%endfor%}<!-- Button to download --><input type="submit" value="PAY" class="btn btn-primary"></form></div><!-- Bootstrap JS and jQuery (required for Bootstrap) --><script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script><scriptsrc="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script><scriptsrc="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script><script>function printOrDownload() {window.print(); // This will open the browser's print dialog}</script></body></html>68BACKEND CONNECTION:Validate.py:from flask import Flask,render_template,request,redirect,url_forimport mysql.connectora=[]s=0a=[0]*1print(a)mydb=mysql.connector.connect(host='localhost',database='Route1',user='Ahamed',password ='Ahamed@2003',auth_plugin='caching_sha2_password')cu=mydb.cursor()def fetch(deptci,arrci,sclass):try:if mydb.is_connected():print("Connected")except mysql.connector.Error as r:print(f'Error:{r}')deptci=str(request.form.get('Dep'))arrci=str(request.form.get('Arr'))sclass=sclassquery="select * from route where Deptcity=(%s) and Arrcity=(%s)and class=(%s)" cu.execute(query,(deptci,arrci,sclass))ff=cu.fetchall()return ffapp=Flask(__name__,template_folder="templates")@app.route('/',methods=['GET'])def index():return render_template("Untitled.html")@app.route('/',methods=["POST"])69def enabbook():passcount=request.form.get('Passe')s=passcountdeptci=str(request.form.get('Dep'))arrci=str(request.form.get('Arr'))passc=(request.form.get('Passe'))print(passc)Class=request.form.get(('Class'))failmsg="" print((deptci),(arrci))if len(deptci)==0:failmsg="Please fill the necessary fields"return render_template("Untitled.html", failmsg=failmsg)if len(arrci)==0:failmsg="Please fill the necessary fields"return render_template("Untitled.html", failmsg=failmsg)if deptci==arrci:return render_template("Untitled.html", failmsg="Please choose a different arrival anddeparture city")else:rows=fetch((deptci),(arrci),(Class))p=[]v1=""for i in rows:v1=i[1] #departure cityv2=i[2] #Arrival cityv3=i[3] #stopsv4=i[4] #Datev5=int(i[5])*int(passc) #price70v6=i[6] #Flightidv7=i[7]print(type(v5))p.append((v1,v2,int(v5),v6,v3,v4,v7,passcount))a.pop(0)for i in range(len(p)):a.append(p[i])if deptci!=v1:return render_template("Info.html",failmsg="Sorry Flight not available")else:return render_template('Info.html',processed_rows=p)@app.route('/Billbef', methods=['POST'])def load_bill():# Redirect to Billbef.html after form submissionprint(len(a))print(a)return redirect(url_for('billbef'))# Route to render Billbef.html@app.route('/billbef')def billbef():return render_template("Billbef.html",a=a)@app.route('/Modif',methods=['GET'])def mod():return render_template('Modif.html')def fetcsh():try:if mydb.is_connected():print("Connected")except mysql.connector.Error as r:71print(f'Error:{r}')a=str(request.form.get('name'))b=request.form.get('email')c=request.form.get('mobile')d=request.form.get('dob')e=request.form.get('price')f=request.form.get('price1')g=request.form.get('price2')dat=request.form.get('dob') #Change thisclasss=request.form.get('class')depcit=request.form.get('depc')arrcit=request.form.get('arc')id=request.form.get('id')s=[a,b,c,d,e,f,g,d,c,depcit,arrcit,id]query="insert intopassenger(name,email,Mobileno,dob,Origprice,Totprice,Finalpri,Depdate,Depcity,Arrcity,Flightid,class) values(%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,%s)" cu.execute(query,(a,b,c,d,e,f,g,dat,depcit,arrcit,id,classs))mydb.commit()@app.route('/download',methods=['POST'])def down():fetcsh()query="Select * from passenger where Name=(%s) and Depdate=(%s) and Depcity=(%s)and Arrcity=(%s) and Flightid=(%s)" cu.execute(query,((str(request.form.get('name'))),request.form.get('dob'),request.form.get('depc'),request.form.get('arc'),request.form.get('id')))ff=cu.fetchone()print(ff)a=[]for i in range(0,1):72a.append(ff)return render_template('download.html',processed_row=a)@app.route('/Pay',methods=['GET'])def doswn():return render_template('Pay.html')def fetchh():query="Select * from passenger" cu.execute(query)ff=cu.fetchone()return ff@app.route('/download1',methods=['POST'])def downd():ff=fetchh()print(ff)a=[]for i in range(1):a.append(ff)print(a)return render_template('download1.html',processed_row=a)if name__== "__main__":__app.run(debug=True,port=8000)
